<!doctype html>
<html>
<head>
    <title>Q4Widgets API Documentation</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='style.css'>
</head>
<body>
    <header>
        <h1><a href='index.html'>Q4Widgets API Documentation</a></h1>
    </header>
    <nav>
        <h1>Widgets</h1>
        <a href='q4.accordion.html'>q4.accordion</a>
        <a href='q4.api.html'>q4.api</a>
        <a href='q4.calendar.html'>q4.calendar</a>
        <a href='q4.chart.html'>q4.chart</a>
        <a href='q4.events.html'>q4.events</a>
        <a href='q4.financialTable.html'>q4.financialTable</a>
        <a href='q4.financials.html'>q4.financials</a>
        <a href='q4.flickrGallery.html'>q4.flickrGallery</a>
        <a href='q4.historical.html'>q4.historical</a>
        <a href='q4.library.html'>q4.library</a>
        <a href='q4.mashfeed.html'>q4.mashfeed</a>
        <a href='q4.multiMap.html'>q4.multiMap</a>
        <a href='q4.news.html'>q4.news</a>
        <a href='q4.pager.html'>q4.pager</a>
        <a href='q4.presentations.html'>q4.presentations</a>
        <a href='q4.rssfeed.html'>q4.rssfeed</a>
        <a href='q4.sec.html'>q4.sec</a>
        <a href='q4.timeline.html'>q4.timeline</a>
        <a href='q4.treemenu.html'>q4.treemenu</a>
    </nav>
    <main>
<header>
    <h1>q4.api</h1>
    <p>Base widget for accessing Q4 private API data.</p>
</header>

<section id='details'>
    <dl>
        <dt>Script link</dt>
            <dd><a href='https://q4widgets.q4web.com/q4widgets/q4.api.1.2.0.min.js' target='_blank'>q4.api.1.2.0.min.js</a></dd>
        <dt>Source file</dt>
            <dd><a href='https://github.com/saltire/q4widgets-jquery-ui/blob/master/src/q4.api.js#L2' target='_blank'>q4.api.js</a>, line 2</dd>
        <dt>Author(s)</dt>
            <dd><ul><li>marcusk@q4websystems.com</li></ul></dd>
        <dt>Requires</dt>
            <dd><ul><li><a href='https://q4widgets.q4web.com/q4widgets/lib/mustache.min.js' target='_blank'>Mustache.js</a></li><li><a href='https://q4widgets.q4web.com/q4widgets/lib/moment.min.js' target='_blank'>Moment.js (optional)</a></li></ul></dd>
    </dl>
    <p>
        This is an <em>abstract</em> widget; it isn't meant to be instantiated directly.
        Use one of its child widgets.
    </p>
    <p>
        Child widgets have all the options and methods of this widget, but may add their own as well.
        See the child widget's documentation for additional options or methods.
        This widget has the following child widgets:
    </p>
    <ul>
        <li><a href='q4.events.html'>q4.events</a></li>
        <li><a href='q4.financials.html'>q4.financials</a></li>
        <li><a href='q4.presentations.html'>q4.presentations</a></li>
        <li><a href='q4.news.html'>q4.news</a></li>
        <li><a href='q4.sec.html'>q4.sec</a></li>
    </ul>
</section>

<section id='options'>
    <h1>Options</h1>
    <ul class='major'>
    <li>
        <h1>url</h1>
        <span>string</span>
        <div>
            <p>The base URL to use for API calls.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>limit</h1>
        <span>number</span>
        <div>
            <p>The maximum number of results to fetch from the server.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>skip</h1>
        <span>number</span>
        <div>
            <p>The number of results to skip. Used for pagination.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>fetchAllYears</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch data from all years, or just the most recent.
If <code>showAllYears</code> is true, this is assumed to be true also.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>showAllYears</h1>
        <span>boolean</span>
        <div>
            <p>Whether to include an &quot;all years&quot; option in template data
and year selectors. If true, the widget will display
all year data by default on first load; otherwise it will
start with data from the most recent year.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>allYearsText</h1>
        <span>string</span>
        <div>
            <p>The text to use for the &quot;all years&quot; option.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;All&quot;</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>startYear</h1>
        <span>number</span>
        <div>
            <p>The year to display first. Default is to display all years if
that option is enabled, otherwise the most recent year.
A useful value to pass is <code>(new Date()).getFullYear()</code>.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>forceStartYear</h1>
        <span>boolean</span>
        <div>
            <p>Whether to start with startYear even if there are no documents for that year.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>showFuture</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch items dated in the future.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>showPast</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch items dated in the past.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>tags</h1>
        <span>Array&lt;string&gt;</span>
        <div>
            <p>A list of tags to filter by.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>titleLength</h1>
        <span>number</span>
        <div>
            <p>The maximum length of an item's title. Zero for no limit.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>dateFormat</h1>
        <span>string</span>
        <div>
            <p>A date format string, which can be used in the template
as <code>{{date}}</code>. Can alternately be an object of format strings,
which can be accessed with <code>{{date.key}}</code> (where key is the
object key corresponding to the string you want to use).
By default, dates are formatted using jQuery UI's datepicker.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;mm&#x2F;dd&#x2F;yy&quot;</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>useMoment</h1>
        <span>boolean</span>
        <div>
            <p>Whether to use Moment.js to format dates instead of datepicker.
Only takes effect if the Moment.js library has been included.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>years</h1>
        <span>Array&lt;number&gt;</span>
        <div>
            <p>An array of years to filter by. If passed, no items will
be displayed unless they are dated to a year in this list.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>maxYear</h1>
        <span>number</span>
        <div>
            <p>The latest year to display items from.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>minYear</h1>
        <span>number</span>
        <div>
            <p>The earliest year to display items from.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>defaultThumb</h1>
        <span>string</span>
        <div>
            <p>A URL to a default thumbnail, in case an item has none.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>append</h1>
        <span>boolean</span>
        <div>
            <p>Whether to append the widget to the container, or replace its
contents entirely.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>template</h1>
        <span>string</span>
        <div>
            <p>A Mustache.js template for the overall widget. Uses the following tags:</p>
<ul>
<li><p><code>{{#years}}</code> An array of years for the navigation. Each year has these tags:</p>
<ul>
<li><code>{{year}}</code>   The display label of the year (e.g. <code>&quot;2015&quot;</code>, <code>&quot;All Years&quot;</code>)</li>
<li><code>{{value}}</code>  The internal value of the year (e.g. <code>2015</code>, <code>-1</code>)</li>
<li><code>{{#items}}</code> An array of items for that year, with the same format as the
  global items array.</li>
</ul>
</li>
<li><p><code>{{#items}}</code> An array of all items. Item tags for each type of widget
  are as follows:</p>
<ul>
<li><p><em>Events:</em></p>
<ul>
<li><code>{{title}}</code>    The title of the event.</li>
<li><code>{{url}}</code>      The URL of the details page.</li>
<li><code>{{date}}</code>     The starting date of the event.</li>
<li><code>{{endDate}}</code>  The ending date of the event.</li>
<li><code>{{timeZone}}</code> The timezone of the start/end dates.</li>
<li><code>{{location}}</code> The location of the event.</li>
<li><code>{{#tags}}</code>    An array of tags for this event.</li>
<li><code>{{body}}</code>     The body of the event details.</li>
<li><p><code>{{#docs}}</code>    An array of attached documents, with the following tags:</p>
<ul>
<li><code>{{title}}</code>     The title of the document.</li>
<li><code>{{url}}</code>       The URL of the document.</li>
<li><code>{{type}}</code>      The type of document as specified in the CMS.</li>
<li><code>{{extension}}</code> The extension of the document file name.</li>
<li><code>{{size}}</code>      The size of the document file.</li>
</ul>
</li>
</ul>
</li>
<li><p><em>Financial reports:</em></p>
<ul>
<li><code>{{title}}</code> The title (i.e. subtype and year) of the financial report.</li>
<li><code>{{year}}</code>  The fiscal year of the financial report.</li>
<li><code>{{date}}</code>  The filing date of the financial report.</li>
<li><code>{{type}}</code>  The subtype of the report (e.g. <code>First Quarter</code>, <code>Annual Report</code>).</li>
<li><code>{{shortType}}</code> A shortened name for the financial report's subtype
(e.g. <code>Q1</code>, <code>Annual</code>). These can be customized with the <code>shortTypes</code> option.</li>
<li><code>{{coverUrl}}</code>  The URL of the cover image, if any.</li>
<li><p><code>{{#docs}}</code> An array of documents for this report, with these tags:</p>
<ul>
<li><code>{{docTitle}}</code>    The title of the document.</li>
<li><code>{{docUrl}}</code>      The URL of the document file.</li>
<li><code>{{docCategory}}</code> The category of the document.</li>
<li><code>{{docSize}}</code>     The file size of the document.</li>
<li><code>{{docThumb}}</code>    The URL of the thumbnail image, if any.</li>
<li><code>{{docType}}</code>     The file type of the document.</li>
</ul>
</li>
</ul>
</li>
<li><p><em>Presentations:</em></p>
<ul>
<li><code>{{title}}</code>  The title of the presentation.</li>
<li><code>{{url}}</code>    The URL of the details page.</li>
<li><code>{{date}}</code>   The date of the presentation.</li>
<li><code>{{#tags}}</code>  An array of tags for this presentation.</li>
<li><code>{{body}}</code>   The body of the presentation details.</li>
<li><code>{{docUrl}}</code> The URL of the presentation document.</li>
</ul>
</li>
<li><p><em>Press releases:</em></p>
<ul>
<li><code>{{title}}</code>   The title of the press release.</li>
<li><code>{{url}}</code>     The URL of the details page.</li>
<li><code>{{date}}</code>    The date of the press release.</li>
<li><code>{{#tags}}</code>   An array of tags for this press release.</li>
<li><code>{{body}}</code>    The body of the press release (truncated to <code>bodyLength</code>).</li>
<li><code>{{shortBody}}</code> The short body of the release (truncated to <code>shortBodyLength</code>).</li>
<li><code>{{docUrl}}</code>  The URL of the related document, if any.</li>
<li><code>{{docSize}}</code> The size of the related document, if any.</li>
<li><code>{{docType}}</code> The file type of the related document, if any.</li>
<li><code>{{thumb}}</code>   The URL of the thumbnail image, if any.</li>
</ul>
</li>
<li><p><em>SEC filings:</em></p>
<ul>
<li><code>{{title}}</code> The title of the filing.</li>
<li><code>{{url}}</code>   The URL of the details page.</li>
<li><code>{{date}}</code>  The date of the filing.</li>
<li><code>{{agent}}</code> The name of the filing agent.</li>
</ul>
</li>
</ul>
</li>
</ul>
            <dl>
                
                
                <dt>Example</dt>
                    <dd><pre>&#39;&lt;ul class=&quot;years&quot;&gt;&#39; +
    &#39;{{#years}}&lt;li&gt;{{year}}&lt;&#x2F;li&gt;{{&#x2F;years}}&#39; +
&#39;&lt;&#x2F;ul&gt;&#39; +
&#39;&lt;h1&gt;{{title}}&lt;&#x2F;h1&gt;&#39; +
&#39;&lt;ul class=&quot;items&quot;&gt;&#39; +
    &#39;{{#items}}&lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;{{url}}&quot;&gt;{{title}}&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;{{&#x2F;items}}&#39; +
    &#39;{{^items}}No items found.{{&#x2F;items}}&#39; +
&#39;&lt;&#x2F;ul&gt;&#39;</pre></dd>
            </dl>
        </div>
    </li>
    <li>
        <h1>loadingMessage</h1>
        <span>string&#x2F;boolean</span>
        <div>
            <p>A message or HTML string to display while loading the widget.
Set to <code>false</code> to disable this feature.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;Loading...&quot;</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>yearTrigger</h1>
        <span>string</span>
        <div>
            <p>An optional selector for year trigger links in the main template.
If passed, click events will be bound here.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>yearSelect</h1>
        <span>string</span>
        <div>
            <p>An optional selector for a year selectbox in the main template.
If passed, change events will be bound here.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>activeClass</h1>
        <span>string</span>
        <div>
            <p>The CSS class to use for a selected year trigger.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;active&quot;</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>itemContainer</h1>
        <span>string</span>
        <div>
            <p>An optional selector for the items container. You must also
pass <code>itemTemplate</code> for this to have any effect.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>itemTemplate</h1>
        <span>string</span>
        <div>
            <p>An optional template for the items container. If <code>itemContainer</code>
is also passed, this will be used to render the items list.
Also, when the year is changed, only the items list will be
rerendered, instead of the entire widget.</p>
            <dl>
                
                
                <dt>Example</dt>
                    <dd><pre>&#39;&lt;li&gt;&#39; +
    &#39;&lt;img class=&quot;thumb&quot; src=&quot;{{thumb}}&quot;&gt;&#39; +
    &#39;&lt;span class=&quot;date&quot;&gt;{{date}}&lt;&#x2F;span&gt;&#39; +
    &#39;&lt;a href=&quot;{{url}}&quot; class=&quot;title&quot;&gt;{{title}}&lt;&#x2F;a&gt;&#39; +
&#39;&lt;&#x2F;li&gt;&#39;</pre></dd>
            </dl>
        </div>
    </li>
    <li>
        <h1>itemLoadingMessage</h1>
        <span>string</span>
        <div>
            <p>A message or HTML string to display while loading items.
By default it is the same as <code>loadingMessage</code>.
Set to <code>false</code> to disable this feature.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>itemNotFoundMessage</h1>
        <span>string</span>
        <div>
            <p>A message or HTML string to display in the items container
if no items are found.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;No items found.&quot;</code></dd>
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>onYearChange</h1>
        <span>function</span>
        <div>
            <p>A callback that fires when a year trigger or selectbox changes.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>beforeRender</h1>
        <span>function</span>
        <div>
            <p>A callback that fires before the full widget is rendered.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>beforeRenderItems</h1>
        <span>function</span>
        <div>
            <p>A callback that fires before the items are rendered.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>itemsComplete</h1>
        <span>function</span>
        <div>
            <p>A callback that fires after the item list is rendered.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    <li>
        <h1>complete</h1>
        <span>function</span>
        <div>
            <p>A callback that fires after the entire widget is rendered.</p>
            <dl>
                
                
                
            </dl>
        </div>
    </li>
    </ul>
</section>

<section id='methods'>
    <h1>Methods</h1>
    <ul class='major'>
    <li>
        <h1>setYear</h1>
        <div>
            <p>Display items from a particular year. This will refetch the list of items if necessary.</p>
            <dl>
                <dt>Parameters</dt>
                    <dd><ul><li><strong>year</strong><em>number</em><p>The year to display, or -1 for all years.</p></li><li><strong>event</strong><em>Event</em><p>The triggering event, if any.</p></li></ul></dd>
            </dl>
        </div>
    </li>
    </ul>
</section>

    </main>
</body>
</html>
