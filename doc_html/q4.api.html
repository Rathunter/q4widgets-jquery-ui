<!doctype html>
<html>
<head>
    <title>Q4Widgets API Documentation</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='style.css'>
</head>
<body>
    <header>
        <h1><a href='index.html'>Q4Widgets API Documentation</a></h1>
    </header>
    <nav>
        <h1>Widgets</h1>
        <a href='q4.accordion.html'>q4.accordion</a>
        <a href='q4.api.html'>q4.api</a>
        <a href='q4.calendar.html'>q4.calendar</a>
        <a href='q4.chart.html'>q4.chart</a>
        <a href='q4.events.html'>q4.events</a>
        <a href='q4.financialTable.html'>q4.financialTable</a>
        <a href='q4.financials.html'>q4.financials</a>
        <a href='q4.flickrGallery.html'>q4.flickrGallery</a>
        <a href='q4.historical.html'>q4.historical</a>
        <a href='q4.library.html'>q4.library</a>
        <a href='q4.mashfeed.html'>q4.mashfeed</a>
        <a href='q4.multiMap.html'>q4.multiMap</a>
        <a href='q4.news.html'>q4.news</a>
        <a href='q4.pager.html'>q4.pager</a>
        <a href='q4.presentations.html'>q4.presentations</a>
        <a href='q4.rssfeed.html'>q4.rssfeed</a>
        <a href='q4.sec.html'>q4.sec</a>
        <a href='q4.timeline.html'>q4.timeline</a>
        <a href='q4.treemenu.html'>q4.treemenu</a>
    </nav>
    <main>
<header>
    <h1>q4.api</h1>
    <p>Base widget for accessing Q4 private API data.</p>
</header>

<section id='details'>
    <dl>
        <dt>Script link</dt>
            <dd><a href='https://q4widgets.q4web.com/q4widgets/q4.api.1.2.0.min.js' target='_blank'>q4.api.1.2.0.min.js</a></dd>
        <dt>Source file</dt>
            <dd><a href='https://github.com/saltire/q4widgets-jquery-ui/blob/master/src/q4.api.js#L2' target='_blank'>q4.api.js</a>, line 2</dd>
        <dt>Author(s)</dt>
            <dd><ul><li>marcusk@q4websystems.com</li></ul></dd>
        <dt>Requires</dt>
            <dd><ul><li><a href='https://q4widgets.q4web.com/q4widgets/lib/mustache.min.js' target='_blank'>Mustache.js</a></li><li><a href='https://q4widgets.q4web.com/q4widgets/lib/moment.min.js' target='_blank'>Moment.js (optional)</a></li></ul></dd>
    </dl>
    <p>
        This is an <em>abstract</em> widget; it isn't meant to be instantiated directly.
        Use one of its child widgets.
    </p>
    <p>
        Child widgets have all the options and methods of this widget, but may add their own as well.
        See the child widget's documentation for additional options or methods.
        This widget has the following child widgets:
    </p>
    <ul>
        <li><a href='q4.events.html'>q4.events</a></li>
        <li><a href='q4.financials.html'>q4.financials</a></li>
        <li><a href='q4.presentations.html'>q4.presentations</a></li>
        <li><a href='q4.news.html'>q4.news</a></li>
        <li><a href='q4.sec.html'>q4.sec</a></li>
    </ul>
</section>

<section id='options'>
    <h1>Options</h1>
    <ul class='major'>
    <li id='option-url'>
        <h1>url</h1>
        <span>string</span>
        <div>
            <p>The base URL to use for API calls.
By default this uses the current domain, so it's usually not necessary.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-limit'>
        <h1>limit</h1>
        <span>number</span>
        <div>
            <p>The maximum number of results to fetch from the server.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-skip'>
        <h1>skip</h1>
        <span>number</span>
        <div>
            <p>The number of results to skip. Used for pagination.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-fetchAllYears'>
        <h1>fetchAllYears</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch data from all years, or just the most recent.
Note that setting this to true doesn't necessarily display all the items,
but will fetch them all from the server in case you want to do something with them.
If <code>showAllYears</code> is true, this is assumed to be true also.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-showAllYears'>
        <h1>showAllYears</h1>
        <span>boolean</span>
        <div>
            <p>Whether to include an &quot;all years&quot; option in template data and year selectors.
If true, the widget will display all year data by default on first load;
otherwise it will start with data from the most recent year.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-allYearsText'>
        <h1>allYearsText</h1>
        <span>string</span>
        <div>
            <p>The text to use for the &quot;all years&quot; option.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;All&quot;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-startYear'>
        <h1>startYear</h1>
        <span>number</span>
        <div>
            <p>The year to display when the widget first loads.
Default is to display items from all years if that option is enabled,
otherwise the most recent year.
A useful value you might want to pass is <code>(new Date()).getFullYear()</code>,
which will display items from the current calendar year.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-forceStartYear'>
        <h1>forceStartYear</h1>
        <span>boolean</span>
        <div>
            <p>Whether to start with <code>startYear</code> even if there are no documents for that year.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-showFuture'>
        <h1>showFuture</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch items dated in the future.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-showPast'>
        <h1>showPast</h1>
        <span>boolean</span>
        <div>
            <p>Whether to fetch items dated in the past.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-tags'>
        <h1>tags</h1>
        <span>Array&lt;string&gt;</span>
        <div>
            <p>A list of tags to filter by.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-titleLength'>
        <h1>titleLength</h1>
        <span>number</span>
        <div>
            <p>The maximum length of an item's title. Zero for no limit.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>0</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-dateFormat'>
        <h1>dateFormat</h1>
        <span>string</span><span>Object</span>
        <div>
            <p>A date format string, which can be used in the template as <code>{{date}}</code>.
Can alternately be an object of format strings,
which can be accessed with <code>{{date.key}}</code> (where key is the
object key corresponding to the string you want to use).
By default, dates are formatted using jQuery UI's datepicker.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;mm&#x2F;dd&#x2F;yy&quot;</code></dd>
                <dt>Example</dt>
                    <dd><code> &#39;MM d, yy&#39;</code></dd>
                <dt>Example</dt>
                    <dd><pre>{
    full: &#39;MM d, yy&#39;,
    short: &#39;mm&#x2F;dd&#x2F;y&#39;,
    month: &#39;MM&#39;,
    day: &#39;d&#39;
}</pre></dd>
            </dl>
        </div>
    </li>
    <li id='option-useMoment'>
        <h1>useMoment</h1>
        <span>boolean</span>
        <div>
            <p>Whether to use Moment.js to format dates instead of datepicker.
Only takes effect if the Moment.js library has been included.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>false</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-years'>
        <h1>years</h1>
        <span>Array&lt;number&gt;</span>
        <div>
            <p>An array of years to filter by. If passed, no items will
be displayed unless they are dated to a year in this list.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-maxYear'>
        <h1>maxYear</h1>
        <span>number</span>
        <div>
            <p>The latest year to display items from.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-minYear'>
        <h1>minYear</h1>
        <span>number</span>
        <div>
            <p>The earliest year to display items from.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-defaultThumb'>
        <h1>defaultThumb</h1>
        <span>string</span>
        <div>
            <p>A URL to a default thumbnail, in case an item has none.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-append'>
        <h1>append</h1>
        <span>boolean</span>
        <div>
            <p>Whether to append the widget to the container, or replace its contents entirely.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>true</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-template'>
        <h1>template</h1>
        <span>string</span>
        <div>
            <p>A Mustache.js template for the overall widget. Uses the following tags:</p>
<ul>
<li><p><code>{{#years}}</code> An array of years for the navigation. Each year has these subtags:</p>
<ul>
<li><code>{{year}}</code>   The display label of the year (e.g. <code>&quot;2015&quot;</code>, <code>&quot;All Years&quot;</code>)</li>
<li><code>{{value}}</code>  The internal value of the year (e.g. <code>2015</code>, <code>-1</code>)</li>
<li><code>{{#items}}</code> An array of items for this year, with the same format as the
  &quot;all items&quot; array.</li>
</ul>
</li>
<li><p><code>{{#items}}</code> An array of all items. Each item has a number of available subtags,
which vary depending which child widget you are using.
For a list, check the documentation for the specific child widget:</p>
<ul>
<li><a href="q4.events.html#option-template">q4.events</a></li>
<li><a href="q4.financials.html#option-template">q4.financials</a></li>
<li><a href="q4.presentations.html#option-template">q4.presentations</a></li>
<li><a href="q4.news.html#option-template">q4.news</a></li>
<li><a href="q4.sec.html#option-template">q4.sec</a></li>
</ul>
</li>
</ul>
            <dl>
                <dt>Example</dt>
                    <dd><pre>&#39;&lt;ul class=&quot;years&quot;&gt;&#39; +
    &#39;{{#years}}&lt;li&gt;{{year}}&lt;&#x2F;li&gt;{{&#x2F;years}}&#39; +
&#39;&lt;&#x2F;ul&gt;&#39; +
&#39;&lt;h1&gt;{{title}}&lt;&#x2F;h1&gt;&#39; +
&#39;&lt;ul class=&quot;items&quot;&gt;&#39; +
    &#39;{{#items}}&lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;{{url}}&quot;&gt;{{title}}&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;{{&#x2F;items}}&#39; +
    &#39;{{^items}}No items found.{{&#x2F;items}}&#39; +
&#39;&lt;&#x2F;ul&gt;&#39;</pre></dd>
            </dl>
        </div>
    </li>
    <li id='option-loadingMessage'>
        <h1>loadingMessage</h1>
        <span>string</span><span>boolean</span>
        <div>
            <p>A message or HTML string to display while first loading the widget.
Set to <code>false</code> to disable this feature. See also <code>itemLoadingMessage</code>.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;Loading...&quot;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-yearTrigger'>
        <h1>yearTrigger</h1>
        <span>string</span>
        <div>
            <p>A CSS selector for year trigger links.
If passed, any elements in the main template matching this selector will
become clickable links that filter the displayed items by year.
Usually you'll want to point this to an element in the template's <code>{{years}}</code> loop.</p>
<p>Note that this doesn't automatically generate the year links;
you can do that in the template.</p>
            <dl>
                <dt>Example</dt>
                    <dd><code> &#39;a.yearLink&#39;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-yearSelect'>
        <h1>yearSelect</h1>
        <span>string</span>
        <div>
            <p>A CSS selector for a year selectbox.
This behaves like the <code>yearTrigger</code> option, except instead of pointing to
individual links, it should point to a <code>&lt;select&gt;</code> or similar form element.</p>
<p>Note that this doesn't automatically fill the box with <code>&lt;option&gt;</code>s;
you can do that in the template.</p>
            <dl>
                <dt>Example</dt>
                    <dd><code> &#39;select.yearsDropdown&#39;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-activeClass'>
        <h1>activeClass</h1>
        <span>string</span>
        <div>
            <p>The CSS class to add to a selected year trigger.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;active&quot;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-itemContainer'>
        <h1>itemContainer</h1>
        <span>string</span>
        <div>
            <p>A selector for the items container.
Use this if you want to redraw only the item list when the year is updated,
instead of redrawing the entire widget.
You must also pass <code>itemTemplate</code> for this to have any effect.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-itemTemplate'>
        <h1>itemTemplate</h1>
        <span>string</span>
        <div>
            <p>A template for the items container.
If this and <code>itemContainer</code> are passed, this will be used to render the items list,
and it will be attached to the main template at <code>itemContainer</code>.
When the year changes, only this part of the widget will be redrawn,
instead of the entire thing.</p>
            <dl>
                <dt>Example</dt>
                    <dd><pre>&#39;&lt;li&gt;&#39; +
    &#39;&lt;img class=&quot;thumb&quot; src=&quot;{{thumb}}&quot;&gt;&#39; +
    &#39;&lt;span class=&quot;date&quot;&gt;{{date}}&lt;&#x2F;span&gt;&#39; +
    &#39;&lt;a href=&quot;{{url}}&quot; class=&quot;title&quot;&gt;{{title}}&lt;&#x2F;a&gt;&#39; +
&#39;&lt;&#x2F;li&gt;&#39;</pre></dd>
            </dl>
        </div>
    </li>
    <li id='option-itemLoadingMessage'>
        <h1>itemLoadingMessage</h1>
        <span>string</span>
        <div>
            <p>A message or HTML string to display while loading items.
By default it is the same as <code>loadingMessage</code>.
You must also pass <code>itemContainer</code> and <code>itemTemplate</code> for this to have any effect.
Set to <code>false</code> to disable this feature.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-itemNotFoundMessage'>
        <h1>itemNotFoundMessage</h1>
        <span>string</span>
        <div>
            <p>A message or HTML string to display in the items container if no items are found.</p>
            <dl>
                <dt>Default value</dt>
                    <dd><code>&quot;No items found.&quot;</code></dd>
            </dl>
        </div>
    </li>
    <li id='option-onYearChange'>
        <h1>onYearChange</h1>
        <span>function</span>
        <div>
            <p>A callback that fires when the active year changes.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-beforeRender'>
        <h1>beforeRender</h1>
        <span>function</span>
        <div>
            <p>A callback that fires before the full widget is rendered.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-beforeRenderItems'>
        <h1>beforeRenderItems</h1>
        <span>function</span>
        <div>
            <p>A callback that fires before the items list is rendered.
This only fires if <code>itemContainer</code> and <code>itemTemplate</code> are set.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-itemsComplete'>
        <h1>itemsComplete</h1>
        <span>function</span>
        <div>
            <p>A callback that fires after the item list is rendered.
This only fires if <code>itemContainer</code> and <code>itemTemplate</code> are set.</p>
            <dl>
            </dl>
        </div>
    </li>
    <li id='option-complete'>
        <h1>complete</h1>
        <span>function</span>
        <div>
            <p>A callback that fires after the entire widget is rendered.</p>
            <dl>
            </dl>
        </div>
    </li>
    </ul>
</section>

<section id='methods'>
    <h1>Methods</h1>
    <ul class='major'>
    <li id='method-setYear'>
        <h1>setYear</h1>
        <div>
            <p>Display items from a particular year. This will refetch the list of items if necessary.</p>
            <dl>
                <dt>Parameters</dt>
                    <dd><ul><li><strong>year</strong><em>number</em><p>The year to display, or -1 for all years.</p></li><li><strong>event</strong><em>Event</em><p>The triggering event, if any.</p></li></ul></dd>
            </dl>
        </div>
    </li>
    </ul>
</section>

    </main>
</body>
</html>
